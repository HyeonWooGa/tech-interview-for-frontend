# Virtual DOM

**Virtual DOM은 UI의 표현을 DOM을 추상화한 가상의 객체**로서 메모리에 저장하고 DOM과 동기화하는 프로그래밍 개념이다.

- DOM의 가벼운 복사본
- in-memory에 존재하기 때문에 실제로 렌더링되지 않음

<br>

## Virtual DOM을 사용하는 이유

DOM에 변화가 생기면 렌더링 과정, 즉 렌더 트리를 재생성하고 레이아웃을 만들고 페인팅을 하는 과정이 반복되는데, 복잡한 SPA에서는 DOM 조작이 많이 발생해 브라우저의 연산이 많아지게 된다. 따라서 전체적인 프로세스를 비효율적으로 만든다.

이때, Virtual DOM은 만약 뷰에 변화가 있다면, 그 변화는 실제 DOM에 적용되기 전에 가상의 DOM에 먼저 적용시키고 그 최종적인 결과를 실제 DOM에 전달해준다. 모든 변화를 한 번에 묶어서 전달하기 때문에 딱 한 번만 렌더링 과정을 거치게 된다.

이로써 브라우저 내에서 발생하는 연산의 양을 줄이면서 성능을 개선시킬 수 있다.

<br>

## 작동 방식

React에서 데이터가 변하여 브라우저 상의 실제 DOM에 업데이트 하는 과정은 3가지 절차를 밟는다.

1. 데이터가 업데이트 되면, 전체 UI를 Virtual DOM에 리렌더링 한다.

2. 이전 Virtual DOM에 있던 내용과 현재의 내용을 비교한다.

3. 바뀐 부분만 실제 DOM에 적용이 된다.

<br>

## 참고
- [velopert | [번역] 리액트에 대해서 그 누구도 제대로 설명하기 어려운 것 - 왜 Virtual DOM 인가?](https://velopert.com/3236)